@{
    ViewData["Title"] = "Home Page";
}

<style>
    .welcome-widgets {
        display: flex;
        flex-wrap: wrap;
        gap: 1.5rem;
        justify-content: center;
        margin-top: 2.5rem;
    }
    .welcome-widget {
        background: linear-gradient(90deg, #2563eb 0%, #38bdf8 100%);
        color: #fff;
        border-radius: 1.2rem;
        box-shadow: 0 2px 16px rgba(37,99,235,0.10);
        min-width: 180px;
        padding: 1.2rem 1.5rem 1.1rem 1.5rem;
        text-align: center;
        flex: 1 1 180px;
        max-width: 220px;
    }
    .welcome-widget i {
        font-size: 2.1rem;
        margin-bottom: 0.5rem;
        opacity: 0.93;
    }
    .welcome-widget .value {
        font-size: 1.7rem;
        font-weight: 700;
        margin-bottom: 0.2rem;
    }
    .welcome-widget .label {
        font-size: 1.05rem;
        opacity: 0.93;
    }
    .welcome-quicklinks {
        margin-top: 2.5rem;
        display: flex;
        gap: 1.2rem;
        justify-content: center;
        flex-wrap: wrap;
    }
    .welcome-quicklink {
        background: #fff;
        color: #2563eb;
        border-radius: 0.8rem;
        box-shadow: 0 2px 8px rgba(37,99,235,0.08);
        padding: 0.8rem 1.3rem;
        font-weight: 500;
        text-decoration: none;
        transition: background 0.2s, color 0.2s;
        display: flex;
        align-items: center;
        font-size: 1.08rem;
    }
    .welcome-quicklink:hover {
        background: #2563eb;
        color: #fff;
    }
    .welcome-quicklink i {
        margin-right: 0.6rem;
        font-size: 1.2rem;
    }
</style>
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-9">
            <div class="card shadow-lg border-0 rounded-4 bg-white">
                <div class="card-body text-center p-5">
                    <h1 class="display-4 mb-2 text-primary"><i class="fas fa-hotel me-2"></i>Bienvenido a HotelV1</h1>
                    <p class="lead mb-4">Sistema de gestión hotelera moderno, seguro y fácil de usar.<br />Accede a las opciones del panel según tu rol desde el menú superior.</p>
                    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80" class="img-fluid rounded-3 shadow-sm mb-3" style="max-height:200px;" alt="Hotel" />
                    <div class="welcome-widgets">
                        <div class="welcome-widget">
                            <i class="fas fa-users"></i>
                            <div class="value">+120</div>
                            <div class="label">Clientes registrados</div>
                        </div>
                        <div class="welcome-widget">
                            <i class="fas fa-bed"></i>
                            <div class="value">38</div>
                            <div class="label">Habitaciones activas</div>
                        </div>
                        <div class="welcome-widget">
                            <i class="fas fa-calendar-check"></i>
                            <div class="value">12</div>
                            <div class="label">Reservas hoy</div>
                        </div>
                        <div class="welcome-widget">
                            <i class="fas fa-user-tie"></i>
                            <div class="value">7</div>
                            <div class="label">Empleados en turno</div>
                        </div>
                    </div>
                    <div class="row mt-5 mb-4 g-4 justify-content-center">
                        <div class="col-md-6">
                            <div class="p-4 rounded-4 shadow-sm bg-light h-100 text-start">
                                <h5 class="mb-3 text-primary"><i class="fas fa-newspaper me-2"></i>Noticias del sector hotelero</h5>
                                <ul class="list-unstyled mb-0">
                                    <li class="mb-2"><i class="fas fa-circle text-primary me-2" style="font-size:0.6em;"></i><b>2025:</b> El turismo internacional crece un 15% en la región.</li>
                                    <li class="mb-2"><i class="fas fa-circle text-primary me-2" style="font-size:0.6em;"></i>Hoteles inteligentes: tendencias en automatización y experiencia del cliente.</li>
                                    <li class="mb-2"><i class="fas fa-circle text-primary me-2" style="font-size:0.6em;"></i>Consejos para mejorar la ocupación en temporada baja.</li>
                                    <li><i class="fas fa-circle text-primary me-2" style="font-size:0.6em;"></i>La sostenibilidad como clave en la gestión hotelera moderna.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-4 rounded-4 shadow-sm bg-light h-100 text-start" id="weather-panel">
                                <h5 class="mb-3 text-primary"><i class="fas fa-cloud-sun me-2"></i>Clima actual</h5>
                                <div id="weather-loading" class="text-muted">Cargando clima...</div>
                                <div id="weather-content" style="display:none;">
                                    <div class="d-flex align-items-center mb-2">
                                        <i id="weather-icon" class="fas fa-sun fa-2x text-warning me-3"></i>
                                        <div>
                                            <span id="weather-temp" class="fs-3 fw-bold">--°C</span> <span id="weather-desc" class="text-muted">--</span>
                                        </div>
                                    </div>
                                    <div class="text-muted">Ciudad: <span id="weather-city">--</span></div>
                                    <div class="mt-2">
                                        <i class="fas fa-arrow-up text-danger"></i> Máx: <span id="weather-max">--°C</span>
                                        <i class="fas fa-arrow-down text-primary ms-3"></i> Mín: <span id="weather-min">--°C</span>
                                    </div>
                                </div>
                                <div id="weather-error" class="text-danger mt-2" style="display:none;"></div>
                            </div>
                        </div>
                    </div>
                    <script>
                    // Clima dinámico usando OpenWeatherMap (puedes cambiar la ciudad y el API key)
                    document.addEventListener('DOMContentLoaded', function() {
                        const apiKey = 'b1b15e88fa797225412429c1c50c122a1'; // Demo key, reemplaza por tu propia key para producción
                        const city = 'Lima,PE';
                        const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${apiKey}&units=metric&lang=es`;
                        fetch(url)
                            .then(resp => resp.json())
                            .then(data => {
                                if (data.cod !== 200) throw new Error(data.message);
                                document.getElementById('weather-loading').style.display = 'none';
                                document.getElementById('weather-content').style.display = '';
                                document.getElementById('weather-city').textContent = data.name + ', ' + (data.sys.country || '');
                                document.getElementById('weather-temp').textContent = Math.round(data.main.temp) + '°C';
                                document.getElementById('weather-max').textContent = Math.round(data.main.temp_max) + '°C';
                                document.getElementById('weather-min').textContent = Math.round(data.main.temp_min) + '°C';
                                document.getElementById('weather-desc').textContent = data.weather[0].description.charAt(0).toUpperCase() + data.weather[0].description.slice(1);
                                // Icono dinámico
                                const iconMap = {
                                    'Thunderstorm': 'fa-bolt',
                                    'Drizzle': 'fa-cloud-rain',
                                    'Rain': 'fa-cloud-showers-heavy',
                                    'Snow': 'fa-snowflake',
                                    'Clear': 'fa-sun',
                                    'Clouds': 'fa-cloud',
                                    'Mist': 'fa-smog',
                                    'Smoke': 'fa-smog',
                                    'Haze': 'fa-smog',
                                    'Dust': 'fa-smog',
                                    'Fog': 'fa-smog',
                                    'Sand': 'fa-smog',
                                    'Ash': 'fa-smog',
                                    'Squall': 'fa-wind',
                                    'Tornado': 'fa-wind'
                                };
                                const main = data.weather[0].main;
                                const iconClass = iconMap[main] || 'fa-sun';
                                const icon = document.getElementById('weather-icon');
                                icon.className = 'fas ' + iconClass + ' fa-2x me-3';
                                icon.classList.add(main === 'Clear' ? 'text-warning' : 'text-primary');
                            })
                            .catch(err => {
                                document.getElementById('weather-loading').style.display = 'none';
                                document.getElementById('weather-error').style.display = '';
                                document.getElementById('weather-error').textContent = 'No se pudo obtener el clima: ' + err.message;
                            });
                    });
                    </script>
                    </div>
                    <div class="welcome-quicklinks">
                        <a href="/Clientes" class="welcome-quicklink"><i class="fas fa-user-plus"></i>Nuevo Cliente</a>
                        <a href="/Reservas" class="welcome-quicklink"><i class="fas fa-calendar-plus"></i>Nueva Reserva</a>
                        <a href="/Habitaciones" class="welcome-quicklink"><i class="fas fa-bed"></i>Ver Habitaciones</a>
                        <a href="/Facturas" class="welcome-quicklink"><i class="fas fa-file-invoice"></i>Facturación</a>
                    </div>
                    <div class="mt-5">
                        <a asp-controller="Home" asp-action="Dashboard" class="btn btn-primary btn-lg px-4"><i class="fas fa-tachometer-alt me-2"></i>Ir al Panel</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
